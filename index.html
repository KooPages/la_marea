<!DOCTYPE html>
<html ng-app="koowexaApp">
<head>
    <title>La Marea</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
        body{background-color:#f8f9fa;color:#333;line-height:1.6}
        .header{background:linear-gradient(135deg,#2c3e50 0%,#1a2530 100%);color:white;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 3px 10px rgba(0,0,0,0.1);position:sticky;top:0;z-index:100}
        .logo-container{display:flex;align-items:center;gap:12px}
        .logo{width:40px;height:40px;border-radius:8px;background:linear-gradient(135deg,#3498db 0%,#1abc9c 100%);display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;background-image:url('favicon.png');background-size:cover}
        .brand-name{font-weight:700;font-size:22px;letter-spacing:1px}
        .brand-subtitle{font-size:12px;opacity:0.8;margin-top:2px}
        .search-container{flex-grow:1;max-width:500px;margin:0 20px}
        .search-box{width:100%;padding:10px 15px;border-radius:50px;border:none;font-size:14px;background-color:rgba(255,255,255,0.15);color:white;transition:all 0.3s}
        .search-box:focus{outline:none;background-color:rgba(255,255,255,0.25);box-shadow:0 0 0 2px rgba(52,152,219,0.5)}
        .search-box::placeholder{color:rgba(255,255,255,0.7)}
        .main-container{max-width:1200px;margin:0 auto;padding:20px;min-height:calc(100vh - 76px)}
        .products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(280px,100%),1fr));gap:20px}
        .product-card{background-color:white;border-radius:12px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.05);transition:transform 0.3s,box-shadow 0.3s;display:flex;flex-direction:column;height:100%}
        .product-card:hover{transform:translateY(-5px);box-shadow:0 8px 20px rgba(0,0,0,0.1)}
        .product-image{height:180px;background-color:#f5f7fa;display:flex;align-items:center;justify-content:center;overflow:hidden}
        .product-image img{max-width:100%;max-height:100%;object-fit:contain;width:100%;height:180px}
        .product-info{padding:20px;flex-grow:1;display:flex;flex-direction:column}
        .product-name{font-weight:700;font-size:18px;margin-bottom:15px;color:#2c3e50}
        .product-code{font-size:12px;color:#999;margin-bottom:5px}
        .whatsapp-btn{background-color:#25D366;color:white;border:none;padding:12px;border-radius:8px;cursor:pointer;font-weight:600;font-size:15px;display:flex;align-items:center;justify-content:center;gap:8px;transition:background-color 0.3s;margin-top:auto}
        .whatsapp-btn:hover{background-color:#1da851}
        .watermark{position:fixed;bottom:20px;right:20px;color:rgba(0,0,0,0.15);font-size:28px;font-weight:900;letter-spacing:2px;transform:rotate(-15deg);z-index:999;pointer-events:none;user-select:none}
        .watermark a{color:inherit;text-decoration:none;pointer-events:auto}
        .empty-state{text-align:center;padding:60px 20px;color:#7f8c8d}
        .empty-state i{font-size:60px;margin-bottom:20px;color:#bdc3c7}
        @media (max-width:768px){.header{flex-direction:column;align-items:flex-start;padding:15px}.search-container{width:100%;margin:15px 0;max-width:100%}.watermark{font-size:22px;bottom:15px;right:15px}}
        @media (max-width:576px){.products-grid{grid-template-columns:1fr}}
        @media (prefers-reduced-motion:reduce){.product-card,.search-box,.whatsapp-btn{transition:none}}
    </style>
</head>
<body ng-controller="MainController">
    <header class="header">
        <div class="logo-container">
            <div class="logo"></div>
            <div>
                <div class="brand-name">La Marea</div>
                <div class="brand-subtitle">RESERVA TU PRODUCTO</div>
            </div>
        </div>
        <div class="search-container">
            <input type="text" class="search-box" placeholder="Buscar productos..." ng-model="searchText" ng-change="filterProducts()">
        </div>
    </header>
    <div class="main-container">
        <div class="products-grid" ng-if="filteredProducts.length > 0">
            <div class="product-card" ng-repeat="product in filteredProducts">
                <div class="product-image">
                    <img ng-src="{{product.image}}" alt="{{product.name}}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x180/ECEFF1/607D8B?text=Producto'">
                </div>
                <div class="product-info">
                    <h3 class="product-name">{{product.name}}</h3>
                    <div class="product-code">Código: {{product.code}}</div>
                    <button class="whatsapp-btn" ng-click="reserveProduct(product)">
                        <i class="fab fa-whatsapp"></i> Reservar por WhatsApp
                    </button>
                </div>
            </div>
        </div>
        <div class="empty-state" ng-if="filteredProducts.length === 0">
            <i class="fas fa-box-open"></i>
            <h3>No se encontraron productos</h3>
            <p>Intenta con otra búsqueda</p>
        </div>
    </div>
    <div class="watermark">
        <a href="https://koowexa.github.io/oficial/" target="_blank" rel="noopener">KOOWEXA</a>
    </div>
    <script>
        angular.module('koowexaApp', []).controller('MainController', function($scope) {
            $scope.products = [
                {id:1,name:"Disponible",code:"P-2026",image:"1.jpg"},
                {id:2,name:"Disponible",code:"P-2026",image:"2.jpg"},
                {id:3,name:"Disponible",code:"P-2026",image:"3.jpg"},
                {id:4,name:"Disponible",code:"P-2026",image:"4.jpg"},
            ];
            $scope.searchText = '';
            $scope.filteredProducts = $scope.products;
            $scope.filterProducts = function() {
                var searchTextLower = $scope.searchText.toLowerCase();
                $scope.filteredProducts = $scope.products.filter(function(product) {
                    return searchTextLower === '' || 
                        product.name.toLowerCase().includes(searchTextLower) ||
                        product.code.toLowerCase().includes(searchTextLower);
                });
            };
            $scope.reserveProduct = function(product) {
                var phoneNumber = "5491122334455";
                var message = `Hola, me gustaría reservar el producto:\n\n*${product.name}*\nCódigo: ${product.code}\n\nReserva realizada desde La Marea`;
                var encodedMessage = encodeURIComponent(message);
                var whatsappURL = `https://wa.me/${phoneNumber}?text=${encodedMessage}`;
                window.open(whatsappURL, '_blank');
            };
            $scope.filterProducts();
        });
    </script>
</body>
</html>